{% load static %}
{% load humanize %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- SEO Meta Tags -->
  <meta name="description" content="{% block meta_description %}Glamoure - Tienda de moda en l√≠nea. Descubre ropa para hombre y mujer, zapatos y accesorios. Ofertas exclusivas y las √∫ltimas tendencias en moda.{% endblock %}">
  <meta name="keywords" content="{% block meta_keywords %}moda, ropa, zapatos, accesorios, tienda online, ropa hombre, ropa mujer, ofertas, tendencias, glamoure{% endblock %}">
  <meta name="author" content="Glamoure">
  <meta name="robots" content="index, follow">
  <meta name="language" content="Spanish">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="{% block og_url %}{{ request.build_absolute_uri }}{% endblock %}">
  <meta property="og:title" content="{% block og_title %}Glamoure - Moda y Estilo en L√≠nea{% endblock %}">
  <meta property="og:description" content="{% block og_description %}Descubre las √∫ltimas tendencias en moda. Ropa, zapatos y accesorios para hombre y mujer. Ofertas exclusivas.{% endblock %}">
  <meta property="og:image" content="{% block og_image %}{% static 'imagenes/Logonew.png' %}{% endblock %}">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="{% block twitter_url %}{{ request.build_absolute_uri }}{% endblock %}">
  <meta property="twitter:title" content="{% block twitter_title %}Glamoure - Moda y Estilo en L√≠nea{% endblock %}">
  <meta property="twitter:description" content="{% block twitter_description %}Descubre las √∫ltimas tendencias en moda. Ropa, zapatos y accesorios con ofertas exclusivas.{% endblock %}">
  <meta property="twitter:image" content="{% block twitter_image %}{% static 'imagenes/Logonew.png' %}{% endblock %}">
  
  <!-- Canonical URL -->
  <link rel="canonical" href="{% block canonical %}{{ request.build_absolute_uri }}{% endblock %}">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="shortcut icon" href="{% static 'imagenes/Simbolo-transparente.png' %}">
  <link href="{% static 'css/output.css' %}" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'css/carrito.css' %}">
  <link rel="stylesheet" href="{% static 'css/producto-modal.css' %}?v=20251204">
  <link rel="stylesheet" href="{% static 'css/carousel-ofertas.css' %}">
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <!-- CSS de correcciones urgentes -->
  <link rel="stylesheet" href="{% static 'css/correcciones.css' %}">
  
  {% block extra_css %}{% endblock %}
  
  <title>{% block title %}Glamoure - Moda y Estilo en L√≠nea | Ropa, Zapatos y Accesorios{% endblock %}</title>
  
  <!-- Datos Estructurados JSON-LD para SEO -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "ClothingStore",
    "name": "Glamoure",
    "description": "Tienda de moda en l√≠nea especializada en ropa, zapatos y accesorios para hombre y mujer",
    "url": "{{ request.build_absolute_uri }}",
    "logo": "{% static 'imagenes/Logonew.png' %}",
    "image": "{% static 'imagenes/Logonew.png' %}",
    "priceRange": "$$",
    "address": {
      "@type": "PostalAddress",
      "addressCountry": "CO"
    },
    "contactPoint": {
      "@type": "ContactPoint",
      "telephone": "+57-300-123-4567",
      "contactType": "Customer Service",
      "availableLanguage": ["Spanish"]
    },
    "sameAs": [
      "https://facebook.com/glamoure",
      "https://instagram.com/glamoure"
    ]
  }
  </script>
</head>
<body class="bg-black text-white font-sans antialiased">
  <div class="min-h-screen flex flex-col">
  <!-- NAVBAR FIXED -->
  <header class="navbar-fixed">
    
    <!-- NAVBAR MOBILE (solo en m√≥viles) -->
    <div class="mobile-nav">
      <button id="mobileMenuBtn" class="mobile-menu-btn">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
      </button>

      <a href="{% url 'index' %}" class="logo-animate">
        <img src="{% static 'imagenes/Logonew.png' %}" alt="Logo" class="mobile-logo">
      </a>

      <div class="mobile-actions">
        <button onclick="mostrarCarrito()" class="cart-btn">
          <img src="{% static 'imagenes/Carrito_de_compras-removebg-preview.png' %}" alt="carrito">
        </button>
      </div>
    </div>

    <!-- NAVBAR DESKTOP (solo en desktop) -->
    <nav class="desktop-nav">
      <!-- Izquierda: Navegaci√≥n -->
      <div class="nav-left">
        <ul class="nav-links">
          <li><a href="{% url 'hombres' %}" class="nav-link">Hombres</a></li>
          <li><a href="{% url 'mujeres' %}" class="nav-link">Mujeres</a></li>
          <li><a href="{% url 'zapatos' %}" class="nav-link">Zapatos</a></li>
          <li><a href="{% url 'ofertas' %}" class="nav-link">Ofertas</a></li>
        </ul>
      </div>

      <!-- Centro: Logo -->
      <div class="nav-center">
        <a href="{% url 'index' %}" class="logo-animate">
          <img src="{% static 'imagenes/Logonew.png' %}" alt="Logo" class="desktop-logo">
        </a>
      </div>

      <!-- Derecha: B√∫squeda y acciones -->
      <div class="nav-right">
        <!-- Barra de b√∫squeda -->
        <div class="search-container">
          <form action="{% url 'buscar_productos' %}" method="GET" class="search-form">
            <input type="text" name="q" placeholder="Buscar productos..." class="search-input">
            <button type="submit" class="search-btn">
              <svg xmlns="http://www.w3.org/2000/svg" class="search-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
              </svg>
              <span>Buscar</span>
            </button>
          </form>
        </div>

        <!-- Bot√≥n de carrito -->
        <button onclick="mostrarCarrito()" class="desktop-cart-btn">
          <img src="{% static 'imagenes/Carrito_de_compras-removebg-preview.png' %}" alt="carrito">
        </button>

        <!-- Wishlist counter -->
        <div class="wishlist-container">
          {% if user.is_authenticated %}
          <a href="{% url 'mis_deseos' %}" class="wishlist-link">
            <i id="wishlist-icon" class="fa-regular fa-heart"></i>
            <span id="wishlist-count" class="wishlist-count">{{ user.favoritos.count }}</span>
          </a>
          {% else %}
          <a href="{% url 'login' %}" class="wishlist-link">
            <i class="fa-regular fa-heart"></i>
          </a>
          {% endif %}
        </div>
        
        <!-- Men√∫ de usuario -->
        <div class="user-menu-container">
          {% if user.is_authenticated %}
            <!-- Men√∫ desplegable del usuario -->
            <div class="user-menu-wrapper">
              <button id="userMenuButton" class="user-menu-btn">
                <span class="user-greeting">¬°Hola, {{ user.username }}!</span>
                <svg id="userMenuArrow" class="user-menu-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
              </button>
              
              <!-- Men√∫ desplegable -->
              <div id="userMenu" class="user-dropdown">
                <!-- Dashboard Cliente -->
                <a href="{% url 'dashboard_cliente' %}" class="dropdown-item">
                  <div class="dropdown-icon">
                    <svg style="width: 18px; height: 18px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                    </svg>
                  </div>
                  <span>Mi Dashboard</span>
                </a>
                
                <!-- Panel de Administraci√≥n (Solo para staff) -->
                {% if user.is_staff %}

                <div class="dropdown-divider"></div>
                <a href="{% url 'dashboard' %}" class="dropdown-item">
                  <div class="dropdown-icon">
                    <svg style="width: 18px; height: 18px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                  </div>
                  <span>Panel Admin</span>
                </a>
                {% endif %}
                
                <div class="dropdown-divider"></div>
                
                <!-- Cerrar sesi√≥n -->
                <a href="{% url 'logout' %}" class="dropdown-item">
                  <div class="dropdown-icon">
                    <svg style="width: 18px; height: 18px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                    </svg>
                  </div>
                  <span>Cerrar sesi√≥n</span>
                </a>
              </div>
            </div>
          {% else %}
            <div class="auth-links">
              <a href="{% url 'login' %}" class="auth-link">Iniciar Sesi√≥n</a>
            </div>
          {% endif %}
        </div>
      </div>
    </nav>

    <!-- MEN√ö M√ìVIL DESPLEGABLE (solo en m√≥viles) -->
    <div id="mobileMenuPanel" class="mobile-menu-panel">
      <div class="mobile-menu-content">
        <!-- Barra de b√∫squeda m√≥vil -->
        <div class="mobile-search">
          <form action="{% url 'buscar_productos' %}" method="GET" class="mobile-search-form">
            <input type="text" name="q" placeholder="Buscar productos..." class="mobile-search-input">
            <button type="submit" class="mobile-search-btn">
              <svg xmlns="http://www.w3.org/2000/svg" class="mobile-search-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
              </svg>
            </button>
          </form>
        </div>

        <!-- Navegaci√≥n principal m√≥vil -->
        <div class="mobile-categories">
          <h3 class="categories-title">Categor√≠as</h3>
          <div class="categories-grid">
            <a href="{% url 'hombres' %}" class="category-card">
              <svg class="category-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
              </svg>
              <span class="category-name">Hombres</span>
            </a>
            
            <a href="{% url 'mujeres' %}" class="category-card">
              <svg class="category-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
              </svg>
              <span class="category-name">Mujeres</span>
            </a>
            
            <a href="{% url 'zapatos' %}" class="category-card">
              <svg class="category-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
              </svg>
              <span class="category-name">Zapatos</span>
            </a>
            
            <a href="{% url 'ofertas' %}" class="category-card">
              <svg class="category-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
              </svg>
              <span class="category-name">Ofertas</span>
            </a>
          </div>
        </div>

        <!-- Enlaces de usuario m√≥vil -->
        <div class="mobile-user-section">
          {% if user.is_authenticated %}
            <div class="mobile-user-card">
              <div class="mobile-user-header">
                <div class="mobile-user-avatar">
                  <span class="avatar-initial">{{ user.username|first|upper }}</span>
                </div>
                <div class="mobile-user-info">
                  <p class="mobile-user-name">¬°Hola, {{ user.username }}!</p>
                  <p class="mobile-user-welcome">Bienvenido a Glamoure</p>
                </div>
              </div>
              
              <div class="mobile-user-links">
                <a href="{% url 'mis_deseos' %}" class="mobile-user-link">
                  <i class="fa-regular fa-heart"></i>
                  <span>Mis Deseos <span class="wishlist-count">({{ user.favoritos.count }})</span></span>
                </a>
                <a href="{% url 'dashboard_cliente' %}" class="mobile-user-link">
                  <svg class="link-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                  </svg>
                  <span>Mi Dashboard</span>
                </a>
                {% if user.is_staff %}
                <a href="{% url 'dashboard' %}" class="mobile-user-link">
                  <svg class="link-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                  </svg>
                  <span>Panel Admin</span>
                </a>
                {% endif %}
                <a href="{% url 'logout' %}" class="mobile-user-link">
                  <svg class="link-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                  </svg>
                  <span>Cerrar sesi√≥n</span>
                </a>
              </div>
            </div>
          {% else %}
            <div class="mobile-auth-card">
              <h3 class="auth-title">Cuenta</h3>
              <div class="auth-buttons">
                <a href="{% url 'login' %}" class="auth-btn primary" style="width: 100%;">
                  <svg class="auth-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"/>
                  </svg>
                  <span>Iniciar Sesi√≥n</span>
                </a>
                <a href="{% url 'mis_deseos' %}" class="mobile-user-link">
                  <i class="fa-regular fa-heart"></i>
                  <span>Mis Deseos</span>
                </a>
              </div>
            </div>
          {% endif %}
        </div>
      </div>
    </div>
  </header>

  <!-- Espacio para el navbar fijo -->
  <div class="navbar-spacer"></div>

  <!-- CONTENIDO PRINCIPAL (esto es espec√≠fico del index) -->
   <main class="flex-grow">
  {% block content %}
    <!-- HERO SECTION -->
    <section class="hero-section">
      <div class="hero-overlay">
        <h1 class="hero-title">¬°Bienvenido a Glamoure!</h1>
        <p class="hero-subtitle">Moda exclusiva. Estilo eterno. Inspirado en ti.</p>
        <a href="{% url 'catalogo_completo' %}" class="hero-btn">
          Ver Productos
        </a>
      </div>
    </section>

    <!-- CATEGOR√çAS DESTACADAS -->
    <section class="categories-section">
      <h2 class="section-title">Categor√≠as Destacadas</h2>
      <div class="categories-container">
        <div class="category-item">
          <a href="{% url 'mujeres' %}">
            <img src="{% static 'imagenes/se√±ora.png' %}" alt="Ropa Mujer">
            <span class="category-label">Ropa Mujer</span>
          </a>
        </div>
        <div class="category-item">
          <a href="{% url 'zapatos' %}">
            <img src="{% static 'imagenes/zapatos.avif' %}" alt="Zapatos">
            <span class="category-label">Zapatos</span>
          </a>
        </div>
        <div class="category-item">
          <a href="{% url 'hombres' %}">
            <img src="{% static 'imagenes/principalhombre.png' %}" alt="Ropa Hombre">
            <span class="category-label">Ropa Hombre</span>
          </a>
        </div>
      </div>
    </section>

    <!-- VIDEO SECTION -->
    <section class="video-section">
      <div class="video-container">
        <h2 class="video-title">Comodidad, elegancia y estilo</h2>
        <p class="video-description">Nuestra marca ofrece la mejor variedad de productos del mercado, combinando dise√±o y calidad para ti.</p>
        <div class="video-wrapper">
          <video src="{% static 'Videos/Jhim Kenny - VERSACE.mp4' %}" autoplay muted loop></video>
        </div>
      </div>
    </section>

    <!-- LO M√ÅS VENDIDO -->
    <section class="py-20 bg-black">
      <h2 class="section-title">Lo M√°s Vendido</h2>
      <p class="text-center text-gray-400 mb-8">Descubre las prendas favoritas de nuestros clientes</p>
      
      <div class="carousel-container" id="mas-vendido-carousel">
        <!-- Botones de navegaci√≥n -->
        <button class="carousel-nav prev" aria-label="Anterior" onclick="masVendidoCarousel.prevSlide()">‚Äπ</button>
        <button class="carousel-nav next" aria-label="Siguiente" onclick="masVendidoCarousel.nextSlide()">‚Ä∫</button>
        
        <!-- Carrusel -->
        <div class="carousel-wrapper">
          <div class="carousel-track" id="mas-vendido-track">
            {% for producto in productos %}
            <div class="carousel-slide">
              <!-- Badge TOP amarillo -->
              <div class="top-badge">‚≠ê TOP</div>
              
              <!-- Bot√≥n de favoritos -->
              {% if user.is_authenticated %}
              <button onclick="toggleFavorito({{ producto.id }}, this)" 
                      class="favorite-btn"
                      style="background: rgba(255, 255, 255, 0.95);"
                      title="{% if producto in user.favoritos.all %}Eliminar de mis deseos{% else %}Agregar a mis deseos{% endif %}"
                      data-favorito="{% if producto in user.favoritos.all %}true{% else %}false{% endif %}">
                  <i class="{% if producto in user.favoritos.all %}fa-solid{% else %}fa-regular{% endif %} fa-heart" 
                     style="color: {% if producto in user.favoritos.all %}#C0A76B{% else %}#666{% endif %};"></i>
              </button>
              {% endif %}
              
              {% if producto.imagen_url %}
                <img src="{{ producto.imagen_url }}" alt="{{ producto.nombre }}" loading="lazy">
              {% elif producto.imagen %}
                <img src="{{ producto.imagen.url }}" alt="{{ producto.nombre }}" loading="lazy">
              {% else %}
                <img src="{% static 'imagenes/sin-imagen.png' %}" alt="Sin imagen" loading="lazy">
              {% endif %}
              <div class="product-info">
                <p class="product-name">{{ producto.nombre }}</p>
                <p class="product-price">${{ producto.precio|floatformat:0|intcomma }}</p>
                <button onclick="abrirProductoModal('{% url 'producto' producto.id %}')" class="product-btn">Ver detalles</button>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
        
        <!-- Indicadores -->
        <div class="carousel-indicators" id="mas-vendido-indicators">
          {% for producto in productos %}

            <span class="indicator {% if forloop.first %}active{% endif %}" onclick="masVendidoCarousel.goToSlide({{ forloop.counter0 }})"></span>
          {% endfor %}
        </div>
      </div>
    </section>

    <!-- OFERTAS ESPECIALES -->
    <section class="py-20 bg-[#111]">
      <h2 class="section-title">Ofertas Especiales</h2>
      
      <div class="carousel-container">
        <!-- Botones de navegaci√≥n -->
        <button class="carousel-nav prev" aria-label="Anterior">‚Äπ</button>
        <button class="carousel-nav next" aria-label="Siguiente">‚Ä∫</button>
        
        <!-- Carrusel -->
        <div class="carousel-wrapper">
          <div class="carousel-track">
            
            {% for producto in productos_ofertas %}
            <div class="carousel-slide">
              <!-- Badge OFERTA rojo -->
              <div class="offer-badge">üî• OFERTA</div>
              
              <!-- Bot√≥n de favoritos -->
              {% if user.is_authenticated %}
              <button onclick="toggleFavorito({{ producto.id }}, this)" 
                      class="favorite-btn"
                      style="background: rgba(255, 255, 255, 0.95);"
                      title="{% if producto in user.favoritos.all %}Eliminar de mis deseos{% else %}Agregar a mis deseos{% endif %}"
                      data-favorito="{% if producto in user.favoritos.all %}true{% else %}false{% endif %}">
                  <i class="{% if producto in user.favoritos.all %}fa-solid{% else %}fa-regular{% endif %} fa-heart" 
                     style="color: {% if producto in user.favoritos.all %}#C0A76B{% else %}#666{% endif %};"></i>
              </button>
              {% endif %}
              
              {% if producto.imagen_url %}
                <img src="{{ producto.imagen_url }}" alt="{{ producto.nombre }}" loading="lazy">
              {% elif producto.imagen %}
                <img src="{{ producto.imagen.url }}" alt="{{ producto.nombre }}" loading="lazy">
              {% else %}
                <img src="{% static 'imagenes/sin-imagen.png' %}" alt="Sin imagen" loading="lazy">
              {% endif %}
              <div class="product-info">
                <p class="product-name">{{ producto.nombre }}</p>
                <p class="product-price">${{ producto.precio|floatformat:0|intcomma }}</p>
                <button onclick="abrirProductoModal('{% url 'producto' producto.id %}')" class="product-btn">Ver detalles</button>
              </div>
            </div>
            {% empty %}
            <!-- Si no hay ofertas, mostrar mensaje -->
            <div class="carousel-slide">
              <div class="product-info">
                <p class="product-name">No hay ofertas disponibles</p>
                <p class="text-gray-400">Pr√≥ximamente tendremos ofertas incre√≠bles para ti</p>
              </div>
            </div>
            {% endfor %}
            
          </div>
        </div>
        
        <!-- Indicadores -->
        <div class="carousel-indicators">
          {% for producto in productos_ofertas %}
            <span class="indicator {% if forloop.first %}active{% endif %}"></span>
          {% endfor %}
        </div>
      </div>
    </section>
  {% endblock %}
    </main>
  <!-- FOOTER -->
  <footer class="main-footer">
    <div class="footer-content">
      <ul class="footer-links">
        <li><a href="#" class="footer-link">Acerca de nosotros</a></li>
        <li>
          <button onclick="mostrarContactModal()" class="footer-link contact-btn">
            Cont√°ctanos
          </button>
        </li>
        <li><a href="#" class="footer-link">Servicio al cliente</a></li>
        <li><a href="#" class="footer-link">Todos los derechos reservados</a></li>
      </ul>
      <div class="footer-logo">
        <img src="{% static 'imagenes/Simbolo-transparente.png' %}" alt="Logo de Glamoure">
      </div>
    </div>
  </footer>

  <!-- üõí MODAL CARRITO -->
  <div id="carritoModal" class="modal" style="display: none;">
    <div class="modal-contenido">
      <div class="carrito-header">
        <span class="cerrar" onclick="cerrarModal()">&times;</span>
        <h2>üõí Carrito de Compras</h2>
        <p class="carrito-subtitle">Revisa tus productos antes de pagar</p>
      </div>
      <div class="carrito-body" id="carritoContenido"></div>
    </div>
  </div>

  <!-- üìû MODAL CONTACTO CON REDES SOCIALES -->

  <div id="contactModal" class="contact-modal hidden">
    <div class="contact-modal-content">
      <!-- Bot√≥n cerrar -->
      <button onclick="cerrarContactModal()" class="contact-close-btn">&times;</button>
      
      <!-- Contenido del modal -->
      <div class="contact-content">
        <!-- T√≠tulo -->

        <h2 class="contact-title">Cont√°ctanos</h2>
        <p class="contact-subtitle">S√≠guenos en nuestras redes sociales</p>
        
        <!-- Redes Sociales -->
        <div class="social-links">
          <!-- WhatsApp -->
          <a href="https://wa.me/573001234567" target="_blank" class="social-link whatsapp">
            <svg class="social-icon" fill="currentColor" viewBox="0 0 24 24">
              <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893-.001-3.189-1.262-6.209-3.553-8.485"/>
            </svg>
            <span class="social-name">WhatsApp</span>
          </a>

          <!-- Facebook -->
          <a href="https://facebook.com/tupagina" target="_blank" class="social-link facebook">
            <svg class="social-icon" fill="currentColor" viewBox="0 0 24 24">
              <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
            </svg>
            <span class="social-name">Facebook</span>
          </a>


          <!-- Instagram -->
          <a href="https://instagram.com/tupagina" target="_blank" class="social-link instagram">
            <svg class="social-icon" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12.017 0C8.396 0 7.989.016 6.756.072 5.526.127 4.712.333 3.995.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.139C.333 4.856.127 5.67.072 6.9.016 8.134 0 8.54 0 12.017c0 3.476.016 3.882.072 5.116.055 1.23.261 2.044.558 2.761.306.789.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.717.297 1.531.503 2.761.558 1.234.056 1.64.072 5.117.072 3.476 0 3.882-.016 5.116-.072 1.23-.055 2.044-.261 2.761-.558.79-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.297-.717.503-1.531.558-2.761.056-1.234.072-1.64.072-5.116 0-3.476-.016-3.882-.072-5.116-.055-1.23-.261-2.044-.558-2.761-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.717-.297-1.531-.503-2.761-.558C15.865.016 15.459 0 12.017 0zm0 2.158c3.404 0 3.808.012 5.03.067 1.105.05 1.704.238 2.104.394.545.217.936.477 1.347.888.41.41.67.802.888 1.347.156.4.344.999.394 2.104.055 1.222.067 1.626.067 5.03 0 3.404-.012 3.808-.067 5.03-.05 1.105-.238 1.704-.394 2.104a3.555 3.555 0 01-.888 1.347 3.555 3.555 0 01-1.347.888c-.4.156-.999.344-2.104.394-1.222.055-1.626.067-5.03.067-3.404 0-3.808-.012-5.03-.067-1.105-.05-1.704-.238-2.104-.394a3.556 3.556 0 01-1.347-.888 3.556 3.555 0 01-.888-1.347c-.156-.4-.344-.999-.394-2.104-.055-1.222-.067-1.626-.067-5.03 0-3.404.012-3.808.067-5.03.05-1.105.238-1.704.394-2.104.217-.545.477-.936.888-1.347.41-.41.802-.67 1.347-.888.4-.156.999-.344 2.104-.394 1.222-.055 1.626-.067 5.03-.067z"/>
              <path d="M12.017 5.838a6.18 6.18 0 100 12.36 6.18 6.18 0 000-12.36zm0 10.177a3.997 3.997 0 110-7.994 3.997 3.997 0 010 7.994z"/>
              <circle cx="18.406" cy="5.595" r="1.439"/>
            </svg>
            <span class="social-name">Instagram</span>
          </a>
        </div>

        <!-- Informaci√≥n adicional -->
        <div class="contact-info">
          <p class="contact-email">üìß info@glamoure.com</p>
          <p class="contact-phone">üìû +57 300 123 4567</p>
        </div>
      </div>
    </div>
  </div>
  
  <!-- MODAL PRODUCTO -->
  <div id="productoModal" class="modal">
    <div class="modal-contenido">
      <div id="productoContenido"></div>
    </div>
  </div>

  <!-- SCRIPTS BASE -->
  <script src="{% static 'js/modal.js' %}?v=3.0"></script>
  <script src="{% static 'js/carousel-ofertas.js' %}"></script>
  <script src="{% static 'js/carousel-mas-vendido.js' %}"></script>
  
  <!-- Scripts de navegaci√≥n -->
  <script>
  // Funciones para el modal de contacto
  function mostrarContactModal() {
      document.getElementById('contactModal').classList.remove('hidden');
      document.body.style.overflow = 'hidden';
  }

  function cerrarContactModal() {
      document.getElementById('contactModal').classList.add('hidden');
      document.body.style.overflow = 'auto';
  }

  // Cerrar modal al hacer clic fuera del contenido
  document.getElementById('contactModal').addEventListener('click', function(e) {
      if (e.target.id === 'contactModal') {
          cerrarContactModal();
      }
  });

  // Cerrar con tecla Escape
  document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
          cerrarContactModal();
      }
  });

  // Men√∫ m√≥vil
  document.addEventListener('DOMContentLoaded', function() {
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const mobileMenuPanel = document.getElementById('mobileMenuPanel');
    
    if (mobileMenuBtn && mobileMenuPanel) {
      mobileMenuBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        
        // Toggle simple
        if (mobileMenuPanel.classList.contains('active')) {
          mobileMenuPanel.classList.remove('active');
          document.body.style.overflow = 'auto';
        } else {
          mobileMenuPanel.classList.add('active');
          document.body.style.overflow = 'hidden';
        }
      });
      
      // Cerrar men√∫ al hacer clic fuera
      document.addEventListener('click', function(e) {
        if (mobileMenuPanel.classList.contains('active') && 
            !mobileMenuPanel.contains(e.target) && 
            e.target !== mobileMenuBtn) {
          mobileMenuPanel.classList.remove('active');
          document.body.style.overflow = 'auto';
        }
      });
      
      // Cerrar con Escape
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && mobileMenuPanel.classList.contains('active')) {
          mobileMenuPanel.classList.remove('active');
          document.body.style.overflow = 'auto';
        }
      });
      
      // Cerrar al hacer clic en enlaces
      mobileMenuPanel.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', function() {
          mobileMenuPanel.classList.remove('active');
          document.body.style.overflow = 'auto';
        });
      });
    }
    
    // Men√∫ de usuario desktop - VERSI√ìN CORREGIDA
    const userMenuButton = document.getElementById('userMenuButton');
    const userMenu = document.getElementById('userMenu');
    const userMenuArrow = document.getElementById('userMenuArrow');
    let isMenuOpen = false;

    if (userMenuButton && userMenu) {
        // Asegurar que empiece oculto
        userMenu.classList.add('hidden');
        
        userMenuButton.addEventListener('click', function(e) {
            e.stopPropagation();
            
            if (!isMenuOpen) {
                // Abrir men√∫
                userMenu.classList.remove('hidden');
                userMenuArrow.style.transform = 'rotate(180deg)';
                isMenuOpen = true;
            } else {
                // Cerrar men√∫
                userMenu.classList.add('hidden');
                userMenuArrow.style.transform = 'rotate(0deg)';
                isMenuOpen = false;
            }
        });
        
        function closeUserMenu() {
            userMenu.classList.add('hidden');
            userMenuArrow.style.transform = 'rotate(0deg)';
            isMenuOpen = false;
        }
        
        document.addEventListener('click', function(e) {
            if (isMenuOpen && !userMenu.contains(e.target) && e.target !== userMenuButton) {
                closeUserMenu();
            }
        });
        
        userMenu.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', function() {
                closeUserMenu();
            });
        });
    }
  });
  </script>
  
  {% block extra_js %}{% endblock %}
  </div>
</body>
</html>
