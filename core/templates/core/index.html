{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="{% static 'imagenes/Simbolo-transparente.png' %}">
  <link href="{% static 'css/output.css' %}" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'css/carrito.css' %}">
  <link rel="stylesheet" href="{% static 'css/producto-modal.css' %}">
  <title>Glamoure</title>
</head>
<body class="bg-black text-white font-sans antialiased">

  
  <header class="fixed top-0 left-0 w-full bg-black bg-opacity-90 backdrop-blur-md z-50 border-b border-[#C0A76B]">
    <nav class="container mx-auto flex justify-between items-center px-6 py-4">
  <!-- MenÃº izquierdo -->
  <ul class="hidden md:flex gap-6 text-sm uppercase tracking-wider">
    <li><a href="{% url 'hombres' %}" class="hover:text-[#C0A76B] transition">Hombres</a></li>
    <li><a href="{% url 'mujeres' %}" class="hover:text-[#C0A76B] transition">Mujeres</a></li>
    <li><a href="{% url 'zapatos' %}" class="hover:text-[#C0A76B] transition">Zapatos</a></li>
    <li><a href="{% url 'ofertas' %}" class="hover:text-[#C0A76B] transition">Ofertas</a></li>
  </ul>

  <!-- Logo central -->
  <div class="flex justify-center">
    <a href="{% url 'index' %}">
      <img src="{% static 'imagenes/Logonew.png' %}" alt="Logo" class="w-14 md:w-16">
    </a>
  </div>

  <!-- MenÃº derecho -->
  <div class="flex items-center gap-4">
    <button onclick="mostrarCarrito()" class="bg-transparent hover:bg-[#C0A76B] p-2 rounded-lg transition">
      <img src="{% static 'imagenes/Carrito_de_compras-removebg-preview.png' %}" alt="carrito" class="w-10 h-10">
    </button>
    
    <div class="hidden md:flex gap-4 text-sm">
      {% if user.is_authenticated %}
        <!-- MenÃº desplegable del usuario -->
        <div class="relative">
          <button id="userMenuButton" class="flex items-center gap-1 hover:text-[#C0A76B] transition cursor-pointer py-2">
            <span class="text-[#C0A76B]">Â¡Hola, {{ user.username }}!</span>
            <svg id="userMenuArrow" class="w-4 h-4 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          
          <!-- MenÃº desplegable -->
          <div id="userMenu" class="absolute right-0 top-full mt-1 w-48 bg-white rounded-lg shadow-lg py-2 border border-gray-200 z-50 hidden">
            <!-- Dashboard Cliente -->
            <a href="{% url 'dashboard_cliente' %}" class="block px-4 py-3 text-sm text-gray-700 hover:bg-gray-100 transition-colors">
              <div class="flex items-center gap-2">
                <svg style="width: 16px; height: 16px; color: #2563eb;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                </svg>
                <span>Mi Dashboard</span>
              </div>
            </a>
            
            <!-- Panel de AdministraciÃ³n (Solo para staff) -->
            {% if user.is_staff %}
            <a href="{% url 'dashboard' %}" class="block px-4 py-3 text-sm text-gray-700 hover:bg-gray-100 transition-colors border-t border-gray-100">
              <div class="flex items-center gap-2">
                <svg style="width: 16px; height: 16px; color: #7c3aed;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                </svg>
                <span>Panel Admin</span>
              </div>
            </a>
            {% endif %}
            
            <!-- Cerrar sesiÃ³n -->
            <a href="{% url 'logout' %}" class="block px-4 py-3 text-sm text-gray-700 hover:bg-gray-100 transition-colors border-t border-gray-100">
              <div class="flex items-center gap-2">
                <svg style="width: 16px; height: 16px; color: #dc2626;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                </svg>
                <span>Cerrar sesiÃ³n</span>
              </div>
            </a>
          </div>
        </div>
      {% else %}
        <a href="{% url 'login' %}" class="hover:text-[#C0A76B] transition">Iniciar SesiÃ³n</a>
        <a href="{% url 'registro' %}" class="hover:text-[#C0A76B] transition">Registrarse</a>
      {% endif %}
    </div>
  </div>
</nav>
  </header>

  
  <section class="h-screen bg-cover bg-center flex flex-col justify-center items-center text-center"style="background-image: url('{% static 'imagenes/Gemini.png' %}');">
    <div class="bg-black bg-opacity-60 p-10 rounded-2xl">
      <h1 class="text-5xl md:text-6xl font-extrabold mb-4 text-[#C0A76B] tracking-wide">Â¡Bienvenido a Glamoure!</h1>
      <p class="text-gray-200 text-lg md:text-xl mb-6">Moda exclusiva. Estilo eterno. Inspirado en ti.</p>
      <a href="{% url 'index' %}"
         class="inline-block bg-[#C0A76B] text-black font-semibold px-8 py-3 rounded-full hover:bg-yellow-400 transition">
        Ver Productos
      </a>
    </div>
  </section>

  
  <section class="py-16 bg-gradient-to-b from-black via-[#111] to-black text-center">
    <h2 class="text-3xl font-bold text-[#C0A76B] mb-10 uppercase">CategorÃ­as Destacadas</h2>
    <div class="flex flex-col md:flex-row justify-center gap-8 px-6">
      <div class="group relative overflow-hidden rounded-2xl">
        <a href="{% url 'mujeres' %}">
          <img src="{% static 'imagenes/seÃ±ora.png' %}" alt="Ropa Mujer"class="w-full h-80 object-cover transform group-hover:scale-110 transition duration-700">
        <span class="absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 py-3 text-[#C0A76B] font-semibold">Ropa Mujer</span>
        </a>
      </div>
      <div class="group relative overflow-hidden rounded-2xl">
        <a href="{% url 'zapatos' %}">
          <img src="{% static 'imagenes/zapatos.avif' %}" alt="Zapatos"class="w-full h-80 object-cover transform group-hover:scale-110 transition duration-700">
          <span class="absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 py-3 text-[#C0A76B] font-semibold">Zapatos</span>
        </a>
      </div>
      <div class="group relative overflow-hidden rounded-2xl">
        <a href="{% url 'hombres' %}">
          <img src="{% static 'imagenes/principalhombre.png' %}" alt="Ropa Hombre"class="w-full h-80 object-cover transform group-hover:scale-110 transition duration-700">
          <span class="absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 py-3 text-[#C0A76B] font-semibold">Ropa Hombre</span>
        </a>
      </div>
    </div>
  </section>


  
  <section class="py-20 bg-[#111]">
    <div class="text-center max-w-3xl mx-auto">
      <h2 class="text-3xl font-bold text-[#C0A76B] mb-4">Comodidad, elegancia y estilo</h2>
      <p class="text-gray-300 mb-8">Nuestra marca ofrece la mejor variedad de productos del mercado, combinando diseÃ±o y calidad para ti.</p>
      <div class="rounded-2xl overflow-hidden shadow-lg border border-[#C0A76B]/30">
        <video src="{% static 'Videos/Jhim Kenny - VERSACE.mp4' %}" autoplay muted loop class="w-full h-auto"></video>
      </div>
    </div>
  </section>

  
  <section class="py-20 bg-black">
    <div class="text-center mb-10">
      <h2 class="text-4xl font-bold text-[#C0A76B] mb-3">ðŸ”¥ Lo MÃ¡s Vendido ðŸ”¥</h2>
      <p class="text-gray-400">Descubre las prendas favoritas de nuestros clientes</p>
    </div>

    <div class="flex gap-6 overflow-x-auto px-6 snap-x snap-mandatory scrollbar-thin scrollbar-thumb-[#C0A76B] scrollbar-track-[#222] pb-4">
      {% for producto in productos %}
      <div class="min-w-[300px] bg-[#1a1a1a] rounded-xl p-4 snap-center shadow-md hover:shadow-[#C0A76B]/50 transition">
        {% if producto.imagen_url %}
          <img src="{{ producto.imagen_url }}" alt="{{ producto.nombre }}" class="w-full h-64 object-cover rounded-lg mb-3 hover:scale-105 transition">
        {% elif producto.imagen %}
          <img src="{{ producto.imagen.url }}" alt="{{ producto.nombre }}" class="w-full h-64 object-cover rounded-lg mb-3 hover:scale-105 transition">
        {% else %}
          <img src="{% static 'imagenes/sin-imagen.png' %}" alt="Sin imagen" class="w-full h-64 object-cover rounded-lg mb-3">
        {% endif %}

        <h3 class="text-xl font-semibold text-[#C0A76B]">{{ producto.nombre }}</h3>
        <p class="text-gray-300 mb-2">${{ producto.precio }}</p>
        <a href="{% url 'producto' producto.id %}"class="inline-block bg-[#C0A76B] text-black font-semibold px-5 py-2 rounded-full hover:bg-yellow-400 transition ver-detalles-btn">
           Ver detalles
        </a>
      </div>
      {% endfor %}
    </div>
  </section>

  
  <section class="py-20 bg-[#111] text-center">
    <h2 class="text-3xl font-bold text-[#C0A76B] mb-10">ðŸŽ‰ Ofertas Especiales ðŸŽ‰</h2>
    <div class="flex gap-6 overflow-x-auto px-6 snap-x snap-mandatory scrollbar-thin scrollbar-thumb-[#C0A76B] scrollbar-track-[#222] pb-4">
      <div class="bg-[#1a1a1a] p-4 rounded-xl shadow-md hover:shadow-[#C0A76B]/50 transition">
        <img src="{% static 'imagenes/Buso negro.webp' %}" alt="Buzo negro" class="w-64 h-64 object-cover rounded-md mb-3 hover:scale-105 transition">
        <p class="text-[#C0A76B] font-semibold">Buzo negro</p>
        <p>$50.00</p>
        <a href=""
           class="inline-block bg-[#C0A76B] text-black font-semibold px-5 py-2 rounded-full hover:bg-yellow-400 transition">
           Ver detalles
        </a>
      </div>
      <div class="bg-[#1a1a1a] p-4 rounded-xl shadow-md hover:shadow-[#C0A76B]/50 transition">
        <img src="{% static 'imagenes/Blusa mujer.webp' %}" alt="Ropa2" class="w-64 h-64 object-cover rounded-md mb-3 hover:scale-105 transition">
        <p class="text-[#C0A76B] font-semibold">Camisa de vestir</p>
        <p>$50.00</p>
        <a href=""
           class="inline-block bg-[#C0A76B] text-black font-semibold px-5 py-2 rounded-full hover:bg-yellow-400 transition">
           Ver detalles
        </a>
      </div>
      <div class="bg-[#1a1a1a] p-4 rounded-xl shadow-md hover:shadow-[#C0A76B]/50 transition">
        <img src="{% static 'imagenes/Blusa mujer.webp' %}" alt="Ropa2" class="w-64 h-64 object-cover rounded-md mb-3 hover:scale-105 transition">
        <p class="text-[#C0A76B] font-semibold">Camisa de vestir</p>
        <p>$50.00</p>
        <a href=""
           class="inline-block bg-[#C0A76B] text-black font-semibold px-5 py-2 rounded-full hover:bg-yellow-400 transition">
           Ver detalles
        </a>
      </div>
      <div class="bg-[#1a1a1a] p-4 rounded-xl shadow-md hover:shadow-[#C0A76B]/50 transition">
        <img src="{% static 'imagenes/Blusa mujer.webp' %}" alt="Ropa2" class="w-64 h-64 object-cover rounded-md mb-3 hover:scale-105 transition">
        <p class="text-[#C0A76B] font-semibold">Camisa de vestir</p>
        <p>$50.00</p>
        <a href=""
           class="inline-block bg-[#C0A76B] text-black font-semibold px-5 py-2 rounded-full hover:bg-yellow-400 transition">
           Ver detalles
        </a>
      </div>
      <div class="bg-[#1a1a1a] p-4 rounded-xl shadow-md hover:shadow-[#C0A76B]/50 transition">
        <img src="{% static 'imagenes/Blusa mujer.webp' %}" alt="Ropa2" class="w-64 h-64 object-cover rounded-md mb-3 hover:scale-105 transition">
        <p class="text-[#C0A76B] font-semibold">Camisa de vestir</p>
        <p>$50.00</p>
        <a href=""
           class="inline-block bg-[#C0A76B] text-black font-semibold px-5 py-2 rounded-full hover:bg-yellow-400 transition">
           Ver detalles
        </a>
      </div>
      <div class="bg-[#1a1a1a] p-4 rounded-xl shadow-md hover:shadow-[#C0A76B]/50 transition">
        <img src="{% static 'imagenes/Blusa mujer.webp' %}" alt="Ropa2" class="w-64 h-64 object-cover rounded-md mb-3 hover:scale-105 transition">
        <p class="text-[#C0A76B] font-semibold">Camisa de vestir</p>
        <p>$50.00</p>
        <a href=""
           class="inline-block bg-[#C0A76B] text-black font-semibold px-5 py-2 rounded-full hover:bg-yellow-400 transition">
           Ver detalles
        </a>
      </div>
      <div class="bg-[#1a1a1a] p-4 rounded-xl shadow-md hover:shadow-[#C0A76B]/50 transition">
        <img src="{% static 'imagenes/Blusa mujer.webp' %}" alt="Ropa2" class="w-64 h-64 object-cover rounded-md mb-3 hover:scale-105 transition">
        <p class="text-[#C0A76B] font-semibold">Camisa de vestir</p>
        <p>$50.00</p>
        <a href=""
           class="inline-block bg-[#C0A76B] text-black font-semibold px-5 py-2 rounded-full hover:bg-yellow-400 transition">
           Ver detalles
        </a>
      </div>
      
    </div>
  </section>

  
  <footer class="bg-black border-t border-[#C0A76B]/50 py-10">
    <div class="container mx-auto flex flex-col md:flex-row justify-between items-center text-center md:text-left px-6 gap-4">
      <ul class="flex flex-wrap justify-center md:justify-start gap-6 text-gray-400 text-sm">
        <li><a href="#" class="hover:text-[#C0A76B]">Acerca de nosotros</a></li>
        <li><a href="#" class="hover:text-[#C0A76B]">ContÃ¡ctanos</a></li>
        <li><a href="#" class="hover:text-[#C0A76B]">Servicio al cliente</a></li>
        <li><a href="#" class="hover:text-[#C0A76B]">Todos los derechos reservados</a></li>
      </ul>
      <div>
        <img src="{% static 'imagenes/Simbolo-transparente.png' %}" alt="Logo de Glamoure" class="w-10 mx-auto md:mx-0">
      </div>
    </div>
  </footer>

  <!-- ðŸ›’ MODAL CARRITO -->
  <div id="carritoModal" class="modal hidden">
    <div class="modal-contenido">
        <!-- Header Mejorado -->
        <div class="carrito-header">
            <button onclick="cerrarModal()" class="cerrar">&times;</button>
            <h2>Carrito de Compras</h2>
            <p class="carrito-subtitle">Glamoure Collection</p>
        </div>

        <!-- Contenido -->
        <div class="carrito-body">
            <div id="carritoContenido"></div>
        </div>
    </div>
</div>

  <div id="productoModal" class="modal">
        <div class="modal-contenido">
            <div id="productoContenido"></div>
        </div>
    </div>

  <script src="{% static 'js/modal.js' %}"></script>
  <script>
// Solo el cÃ³digo para el menÃº desplegable del usuario
function initUserMenu() {
    const userMenuButton = document.getElementById('userMenuButton');
    const userMenu = document.getElementById('userMenu');
    const userMenuArrow = document.getElementById('userMenuArrow');

    if (userMenuButton && userMenu) {
        // Abrir/cerrar menÃº
        userMenuButton.addEventListener('click', function(e) {
            e.stopPropagation();
            
            if (userMenu.classList.contains('hidden')) {
                // Abrir menÃº
                userMenu.classList.remove('hidden');
                if (userMenuArrow) {
                    userMenuArrow.classList.add('rotate-180');
                }
            } else {
                // Cerrar menÃº
                userMenu.classList.add('hidden');
                if (userMenuArrow) {
                    userMenuArrow.classList.remove('rotate-180');
                }
            }
        });

        // Cerrar menÃº al hacer click fuera
        document.addEventListener('click', function(e) {
            if (userMenu && !userMenu.contains(e.target) && userMenuButton && !userMenuButton.contains(e.target)) {
                userMenu.classList.add('hidden');
                if (userMenuArrow) {
                    userMenuArrow.classList.remove('rotate-180');
                }
            }
        });

        // Prevenir que el click en el menÃº lo cierre
        userMenu.addEventListener('click', function(e) {
            e.stopPropagation();
        });
    }
}

// Inicializar cuando el DOM estÃ© listo
document.addEventListener('DOMContentLoaded', function() {
    initUserMenu();
});
</script>
</body>
</html>
